
[{"content":" test # test # ","date":"7 January 2025","externalUrl":null,"permalink":"/","section":"","summary":"","title":"","type":"page"},{"content":" post test # é€™æ˜¯ post å€\n","date":"7 January 2025","externalUrl":null,"permalink":"/posts/","section":"","summary":"","title":"","type":"posts"},{"content":" å‰è¨€ ğŸ¤ # ä½¿ç”¨è€…é«”é©—ï¼ˆUser Experience, UXï¼‰æ˜¯æ‡‰ç”¨ç¨‹å¼è¨­è¨ˆä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€ç’°ï¼Œè€Œä¸€å€‹å³æ™‚ã€ç›´è§€çš„åé¥‹èƒ½å¤ è®“ä½¿ç”¨è€…æ›´å®‰å¿ƒã€æ›´æ„‰å¿«åœ°æ“ä½œâœ¨ã€‚åœ¨é€™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å€‘å°‡ä»‹ç´¹å¦‚ä½•ä½¿ç”¨ Naive UI æä¾›çš„ useMessageï¼Œç‚ºæ“ä½œå¢åŠ æç¤ºå½ˆçª—ï¼Œè®“ä½ çš„å°ˆæ¡ˆå¾ã€Œå¥½ç”¨ã€è®Šæˆã€Œè¶…å¥½ç”¨ã€ï¼(ã‚âˆ€ï½¥)\næ­é… useMessage çš„å„ªå‹¢ ğŸ’¡ # å‚³é€é–€ ğŸŒ€ Naive UI Message\nå³æ™‚åé¥‹ï¼šè®“ä½¿ç”¨è€…åœ¨æ“ä½œå¾Œå³åˆ»ç²å¾—æˆåŠŸæˆ–å¤±æ•—çš„å›æ‡‰ã€‚ æ›´å‹å¥½çš„æç¤ºï¼šä»¥è¦–è¦ºåŒ–çš„å½ˆçª—ä»£æ›¿å†·å†°å†°çš„ console.logã€‚ ç°¡å–®æ˜“ç”¨ï¼šåªéœ€ä¸€è¡Œç¨‹å¼ç¢¼ï¼Œå³å¯å¯¦ç¾æ¼‚äº®çš„æç¤ºå½ˆçª—ã€‚ ä½¿ç”¨æ­¥é©Ÿ ğŸ–¥ï¸ # 1. å®‰è£ Naive UI # å¦‚æœä½ çš„å°ˆæ¡ˆé‚„æ²’æœ‰å®‰è£ Naive UIï¼Œè«‹å…ˆåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š\nnpm install naive-ui 2. åŸºæœ¬ä½¿ç”¨ useMessage # Naive UI æä¾›çš„ useMessage æ˜¯ä¸€å€‹ç°¡å–®çš„è¨Šæ¯æç¤ºå·¥å…·ï¼Œå¯ä»¥ç”¨æ–¼æˆåŠŸã€å¤±æ•—æˆ–è­¦å‘Šç­‰æç¤ºã€‚ä½¿ç”¨å‰ï¼Œè«‹å‹™å¿…åœ¨ App.vue æˆ–å…¶ä»–å…¨åŸŸçµ„ä»¶ä¸­æ›è¼‰ NMessageProviderï¼š\n```vue \u0026lt;script setup\u0026gt; import { NMessageProvider } from \u0026#39;naive-ui\u0026#39;; \u0026lt;/script\u0026gt; \u0026lt;template\u0026gt; \u0026lt;n-message-provider\u0026gt; \u0026lt;router-view /\u0026gt; \u0026lt;/n-message-provider\u0026gt; \u0026lt;/template\u0026gt; ï½¥*ï½¥:â‰¡(ã€€Îµ:) ä»¥ä¸‹æ˜¯åŸºæœ¬ç¯„ä¾‹\n\u0026lt;template\u0026gt; \u0026lt;n-button @click=\u0026#34;showMessage\u0026#34;\u0026gt;é»æˆ‘é¡¯ç¤ºè¨Šæ¯\u0026lt;/n-button\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script setup\u0026gt; import { useMessage } from \u0026#34;naive-ui\u0026#34;; const message = useMessage() const showMessage = () =\u0026gt; { message.info(\u0026#39;æˆ‘æ˜¯ä¸€èˆ¬è¨Šæ¯\u0026#39;) message.success(\u0026#39;æˆ‘æ˜¯æˆåŠŸè¨Šæ¯\u0026#39;) message.error(\u0026#39;æˆ‘æ˜¯å¤±æ•—è¨Šæ¯\u0026#39;) message.warning(\u0026#39;æˆ‘æ˜¯è­¦å‘Šè¨Šæ¯\u0026#39;) } \u0026lt;/script\u0026gt; 3. æ­é… Firebase åŠŸèƒ½æå‡ä½¿ç”¨è€…é«”é©— # ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨ä½¿ç”¨è€…é©—è­‰ä¸­åŠ å…¥å½ˆçª—æç¤ºçš„ç¯„ä¾‹ï¼š\né‚è¼¯æª”æ¡ˆ # (1) è¨»å†ŠåŠŸèƒ½ # // Login/service/registerService.js import { getAuth, createUserWithEmailAndPassword } from \u0026#34;firebase/auth\u0026#34;; const auth = getAuth(); export const registerUser = async (email, password) =\u0026gt; { try { const userCredential = await createUserWithEmailAndPassword(auth, email, password); return { success: true, user: userCredential.user }; } catch (error) { return { success: false, message: error.message }; } }; (2) ç™»å…¥åŠŸèƒ½ # // Login/service/loginService.js import { getAuth, signInWithEmailAndPassword } from \u0026#34;firebase/auth\u0026#34;; const auth = getAuth(); export const loginUser = async (email, password) =\u0026gt; { try { const userCredential = await signInWithEmailAndPassword(auth, email, password); return { success: true, user: userCredential.user }; } catch (error) { return { success: false, message: error.message }; } }; (3) Google ç™»å…¥ # // Login/service/authService.js import { getAuth, GoogleAuthProvider, signInWithPopup } from \u0026#34;firebase/auth\u0026#34;; const auth = getAuth(); export const loginWithGoogle = async () =\u0026gt; { try { const provider = new GoogleAuthProvider(); const userCredential = await signInWithPopup(auth, provider); return { success: true, user: userCredential.user }; } catch (error) { return { success: false, message: error.message }; } }; (4) å¿˜è¨˜å¯†ç¢¼åŠŸèƒ½ # // Login/service/resetPasswordService.js import { getAuth, sendPasswordResetEmail } from \u0026#34;firebase/auth\u0026#34;; const auth = getAuth(); export const resetPassword = async (email) =\u0026gt; { try { await sendPasswordResetEmail(auth, email); return { success: true }; } catch (error) { return { success: false, message: error.message }; } }; (5) ç™»å‡ºåŠŸèƒ½ # // Login/service/logoutService.js import { getAuth, signOut } from \u0026#34;firebase/auth\u0026#34;; const auth = getAuth(); export const logoutUser = async () =\u0026gt; { try { await signOut(auth); return { success: true }; } catch (error) { return { success: false, message: error.message }; } }; é›†ä¸­å½ˆçª—é‚è¼¯åœ¨ LoginPage.vue # åœ¨ LoginPage.vue ä¸­ï¼Œçµ±ä¸€è™•ç†æ‰€æœ‰å½ˆçª—é‚è¼¯ï¼Œæ ¹æ“š Service çš„å›å‚³çµæœï¼Œä½¿ç”¨ useMessage é¡¯ç¤ºæç¤ºã€‚\n\u0026lt;template\u0026gt; \u0026lt;n-input v-model=\u0026#34;email\u0026#34; placeholder=\u0026#34;è¼¸å…¥ Email\u0026#34; /\u0026gt; \u0026lt;n-input v-model=\u0026#34;password\u0026#34; type=\u0026#34;password\u0026#34; placeholder=\u0026#34;è¼¸å…¥å¯†ç¢¼\u0026#34; /\u0026gt; \u0026lt;n-button @click=\u0026#34;handleRegister\u0026#34;\u0026gt;è¨»å†Š\u0026lt;/n-button\u0026gt; \u0026lt;n-button @click=\u0026#34;handleLogin\u0026#34;\u0026gt;ç™»å…¥\u0026lt;/n-button\u0026gt; \u0026lt;n-button @click=\u0026#34;handleGoogleLogin\u0026#34;\u0026gt;Google ç™»å…¥\u0026lt;/n-button\u0026gt; \u0026lt;n-button @click=\u0026#34;handleResetPassword\u0026#34;\u0026gt;å¿˜è¨˜å¯†ç¢¼\u0026lt;/n-button\u0026gt; \u0026lt;n-button @click=\u0026#34;handleLogout\u0026#34;\u0026gt;ç™»å‡º\u0026lt;/n-button\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script setup\u0026gt; import { ref } from \u0026#34;vue\u0026#34;; import { useMessage } from \u0026#34;naive-ui\u0026#34;; import { registerUser } from \u0026#34;./service/registerService.js\u0026#34;; import { loginUser } from \u0026#34;./service/loginService.js\u0026#34;; import { loginWithGoogle } from \u0026#34;./service/authService.js\u0026#34;; import { resetPassword } from \u0026#34;./service/resetPasswordService.js\u0026#34;; import { logoutUser } from \u0026#34;./service/logoutService.js\u0026#34;; const email = ref(\u0026#34;\u0026#34;); const password = ref(\u0026#34;\u0026#34;); const message = useMessage(); const handleRegister = async () =\u0026gt; { const result = await registerUser(email.value, password.value); if (result.success) { message.success(\u0026#39;è¨»å†ŠæˆåŠŸ ğŸ‰\u0026#39;); } else { message.error(\u0026#39;è¨»å†Šå¤±æ•— ğŸ’”\u0026#39;); console.error(result.message); } }; const handleLogin = async () =\u0026gt; { const result = await loginUser(email.value, password.value); if (result.success) { message.success(\u0026#39;ç™»å…¥æˆåŠŸ ğŸ‰\u0026#39;); } else { message.error(\u0026#39;ç™»å…¥å¤±æ•— ğŸ’”\u0026#39;); console.error(result.message); } }; const handleGoogleLogin = async () =\u0026gt; { const result = await loginWithGoogle(); if (result.success) { message.success(\u0026#39;Google ç™»å…¥æˆåŠŸ ğŸ‰\u0026#39;); } else { message.error(\u0026#39;Google ç™»å…¥å¤±æ•— ğŸ’”\u0026#39;); console.error(result.message); } }; const handleResetPassword = async () =\u0026gt; { const result = await resetPassword(email.value); if (result.success) { message.success(\u0026#39;å¯†ç¢¼é‡è¨­éƒµä»¶å·²å¯„å‡º ğŸ“©ï¼Œè«‹æª¢æŸ¥ä½ çš„ä¿¡ç®±ï¼\u0026#39;); } else { message.error(\u0026#39;å¯†ç¢¼é‡è¨­å¤±æ•— ğŸ’”\u0026#39;); console.error(result.message); } }; const handleLogout = async () =\u0026gt; { const result = await logoutUser(); if (result.success) { message.success(\u0026#39;ç™»å‡ºæˆåŠŸ ğŸ‘‹\u0026#39;); } else { message.error(\u0026#39;ç™»å‡ºå¤±æ•— ğŸ’”\u0026#39;); console.error(result.message); } }; \u0026lt;/script\u0026gt; çµèª ğŸ‰ # é€é Naive UI çš„ useMessageï¼Œä½ å¯ä»¥è¼•é¬†ç‚ºä½¿ç”¨è€…æ“ä½œæä¾›å³æ™‚åé¥‹ï¼Œæå‡æ•´é«”æ“ä½œé«”é©—ã€‚çµåˆ Firebase Authenticationï¼Œè®“ä½ çš„å°ˆæ¡ˆæ›´å‹å¥½ã€æ›´å°ˆæ¥­ï¼å¿«ä¾†è©¦è©¦çœ‹å§ï¼ğŸš€\n","date":"7 January 2025","externalUrl":null,"permalink":"/posts/set_naive_usemessage/","section":"","summary":"","title":"ç”¨ Naive UI çš„ useMessage æ‰“é€ æ›´å‹å¥½çš„ä½¿ç”¨è€…æ“ä½œé«”é©— ğŸ‰","type":"posts"},{"content":" å‰è¨€ ğŸ¤ # åœ¨æ‡‰ç”¨ç¨‹å¼ä¸­ï¼Œä½¿ç”¨è€…é©—è­‰æ˜¯ä¸å¯ç¼ºçš„ä¸€ç’°ï¼Œè€Œ Firebase Authentication å°±åƒæ˜¯é–‹ç™¼è€…çš„é­”æ³•å·¥å…·ç®±ğŸª„ï¼ä¸åƒ…å¯ä»¥å¿«é€Ÿå¯¦ç¾ Email/å¯†ç¢¼ç™»å…¥ï¼Œé‚„æ”¯æ´ç¬¬ä¸‰æ–¹ç™»å…¥ï¼ˆGoogleã€Facebook ç­‰ï¼‰ï¼Œæ›´è²¼å¿ƒçš„æ˜¯ï¼Œå®ƒé‚„å…§å»ºäº† å¿˜è¨˜å¯†ç¢¼ åŠŸèƒ½ğŸ’¡ï¼\nä»Šå¤©å°±å¸¶å¤§å®¶ä¸€æ­¥æ­¥å¯¦ç¾é€™äº›åŠŸèƒ½ï¼Œä¸¦åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« æ­é… Naive UI ä¿¡æ¯å½ˆçª— æå‡ä½¿ç”¨è€…é«”é©—ï¼Œè®“æ“ä½œæ›´åŠ ç›´è¦ºã€å‹å¥½ï¼âœ¨ï¼ˆÂ¯â–¿Â¯ï¼‰\nå‰ç½®ä½œæ¥­ ğŸ“Œ # 1. æº–å‚™ Firebase å°ˆæ¡ˆ # ç™»å…¥ Firebase å®˜æ–¹ç¶²ç«™ï¼ŒæŒ‰ä¸‹å»ºç«‹å°ˆæ¡ˆ! è¼¸å…¥ä½ çš„é…·é…·åç¨±å»ºç«‹æ–°å°ˆæ¡ˆ(ï¾‰\u0026gt;Ï‰\u0026lt;)ï¾‰ åœ¨ã€Œå°ˆæ¡ˆè¨­å®šã€ä¸­é¸æ“‡å¹³å°å»ºç«‹æ‡‰ç”¨ç¨‹å¼ æ–°å¢ Firebase SDK å°‡ Firebase ç”¢ç”Ÿçš„ apiKey è¤‡è£½èµ·ä¾†ï¼ 2. å®‰è£ Firebase å¥—ä»¶ # åœ¨æœ¬åœ°å°ˆæ¡ˆä¸­å®‰è£ Firebase å¥—ä»¶ npm install firebase 3. è¨­å®š Firebase ç’°å¢ƒ # åœ¨å°ˆæ¡ˆä¸­æ–°å¢ä¸€å€‹ firebase-config.js æª”æ¡ˆï¼Œå°‡ Firebase é…ç½®åŠ å…¥ï¼š\n// firebase-config.js import { initializeApp } from \u0026#34;firebase/app\u0026#34;; const firebaseConfig = { apiKey: \u0026#34;ä½ çš„ API é‡‘é‘°\u0026#34;, authDomain: \u0026#34;ä½ çš„å°ˆæ¡ˆåŸŸå\u0026#34;, projectId: \u0026#34;ä½ çš„å°ˆæ¡ˆ ID\u0026#34;, storageBucket: \u0026#34;ä½ çš„å„²å­˜ç©ºé–“\u0026#34;, messagingSenderId: \u0026#34;ä½ çš„è¨Šæ¯å‚³é€è€… ID\u0026#34;, appId: \u0026#34;ä½ çš„ App ID\u0026#34;, }; const app = initializeApp(firebaseConfig); export default app; å¯¦éš›æ“ä½œ ğŸ–¥ï¸ # 1. å¯¦ç¾ Email/å¯†ç¢¼è¨»å†ŠåŠŸèƒ½ # å»ºç«‹ registerService.jsï¼Œå¯¦ç¾è¨»å†ŠåŠŸèƒ½ï¼š\n// Login/service/registerService.js import { getAuth, createUserWithEmailAndPassword } from \u0026#34;firebase/auth\u0026#34;; const auth = getAuth(); export const registerUser = async (email, password) =\u0026gt; { try { const userCredential = await createUserWithEmailAndPassword(auth, email, password); console.log(\u0026#34;ä½¿ç”¨è€…è¨»å†ŠæˆåŠŸ:\u0026#34;, userCredential.user); } catch (error) { console.error(\u0026#34;è¨»å†Šå¤±æ•—:\u0026#34;, error.message); } }; åœ¨å‰ç«¯ LoginPage.vue å‰ç«¯å‘¼å« registerUser()\n// Login/LoginPage.vue import { registerUser } from \u0026#34;./service/registerService.js\u0026#34;; const email = \u0026#34;test@example.com\u0026#34;; const password = \u0026#34;password123\u0026#34;; registerUser(email, password); 2. å¯¦ç¾ Email/å¯†ç¢¼ç™»å…¥åŠŸèƒ½ # åœ¨ loginService.js ä¸­å¢åŠ ç™»å…¥åŠŸèƒ½ï¼š\n// Login/service/loginService.js import { signInWithEmailAndPassword } from \u0026#34;firebase/auth\u0026#34;; export const loginUser = async (email, password) =\u0026gt; { try { const userCredential = await signInWithEmailAndPassword(auth, email, password); console.log(\u0026#34;ä½¿ç”¨è€…ç™»å…¥æˆåŠŸ:\u0026#34;, userCredential.user); } catch (error) { console.error(\u0026#34;ç™»å…¥å¤±æ•—:\u0026#34;, error.message); } }; åœ¨å‰ç«¯ LoginPage.vue å‰ç«¯å‘¼å« loginUser()\n// Login/LoginPage.vue import { loginUser } from \u0026#34;./service/loginService.js\u0026#34;; const email = \u0026#34;test@example.com\u0026#34;; const password = \u0026#34;password123\u0026#34;; loginUser(email, password); 3. å¯¦ç¾ Google ç¬¬ä¸‰æ–¹ç™»å…¥ # å•Ÿç”¨ Firebase Google ç™»å…¥å¾Œå»ºç«‹ authService.jsï¼ŒåŠ å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š\n// Login/service/authService.js import { GoogleAuthProvider, signInWithPopup } from \u0026#34;firebase/auth\u0026#34;; export const loginWithGoogle = async () =\u0026gt; { try { const provider = new GoogleAuthProvider(); const userCredential = await signInWithPopup(auth, provider); console.log(\u0026#34;Google ç™»å…¥æˆåŠŸ:\u0026#34;, userCredential.user); } catch (error) { console.error(\u0026#34;Google ç™»å…¥å¤±æ•—:\u0026#34;, error.message); } }; åœ¨å‰ç«¯ LoginPage.vue å‰ç«¯å‘¼å« loginWithGoogle()\n// Login/LoginPage.vue import { loginWithGoogle } from \u0026#34;./service/authService.js\u0026#34;; loginWithGoogle(); 4. å¯¦ç¾å¿˜è¨˜å¯†ç¢¼åŠŸèƒ½ # æ–°å»º resetPasswordService.js æ–°å¢å¿˜è¨˜å¯†ç¢¼åŠŸèƒ½ï¼š\n// Login/service/resetPasswordService.js import { getAuth, sendPasswordResetEmail } from \u0026#34;firebase/auth\u0026#34;; export const resetPassword = async (email) =\u0026gt; { try { await sendPasswordResetEmail(auth, email); console.log(\u0026#34;é‡è¨­å¯†ç¢¼éƒµä»¶å·²å¯„å‡º\u0026#34;); } catch (error) { console.error(\u0026#34;å¯†ç¢¼é‡è¨­å¤±æ•—:\u0026#34;, error.message); } }; åœ¨å‰ç«¯ LoginPage.vue å‰ç«¯å‘¼å« resetPassword()\nimport { resetPassword } from \u0026#34;./service/resetPasswordService.js\u0026#34;; resetPassword(\u0026#34;test@example.com\u0026#34;); 5. å¯¦ç¾ç™»å‡ºåŠŸèƒ½ # æœ€å¾Œï¼Œå¯¦ç¾ç™»å‡ºåŠŸèƒ½ï¼š\nimport { signOut } from \u0026#34;firebase/auth\u0026#34;; export const logoutUser = async () =\u0026gt; { try { await signOut(auth); console.log(\u0026#34;ä½¿ç”¨è€…å·²ç™»å‡º\u0026#34;); } catch (error) { console.error(\u0026#34;ç™»å‡ºå¤±æ•—:\u0026#34;, error.message); } }; æ¸¬è©¦èˆ‡é©—è­‰ ğŸ”„ # å®ŒæˆåŠŸèƒ½å¾Œï¼Œå¯ä»¥ä¾ä»¥ä¸‹æ­¥é©Ÿé€²è¡Œæ¸¬è©¦ï¼š\nè¨»å†Šæ–°ä½¿ç”¨è€…ï¼šæª¢æŸ¥ Firebase æ§åˆ¶å°æ˜¯å¦æ–°å¢ä½¿ç”¨è€…ã€‚ ç™»å…¥æ¸¬è©¦ï¼šä½¿ç”¨ Email/å¯†ç¢¼æˆ– Google ç™»å…¥ï¼Œç¢ºèªæ§åˆ¶å°æœ‰ç™»å…¥ç´€éŒ„ã€‚ å¿˜è¨˜å¯†ç¢¼æ¸¬è©¦ï¼šè¼¸å…¥å·²è¨»å†Šçš„ Emailï¼Œæª¢æŸ¥æ˜¯å¦æ”¶åˆ°é‡è¨­å¯†ç¢¼éƒµä»¶ğŸ“©ã€‚ ç™»å‡ºæ¸¬è©¦ï¼šç¢ºèªæœƒè©±å·²çµæŸã€‚ çµèª ğŸ‰ # é€é Firebase Authenticationï¼Œæˆ‘å€‘ä¸åƒ…å¯ä»¥è¼•é¬†å¯¦ç¾å¤šç¨®ç™»å…¥åŠŸèƒ½ï¼Œé‚„èƒ½æä¾›å®‰å…¨çš„å¯†ç¢¼é‡è¨­æœå‹™ï¼Œè®“ä½¿ç”¨è€…é«”é©—å¤§å¹…æå‡ï¼ğŸ”¥ å¿«ä¾†è©¦è©¦å§ï¼Œè®“ä½ çš„å°ˆæ¡ˆæ›´åŠ å®Œç¾ï¼ÎµÙ©(à¹‘\u0026gt; â‚ƒ \u0026lt;)Û¶Ğ·\n","date":"6 January 2025","externalUrl":null,"permalink":"/posts/set_firebase_authentication/","section":"","summary":"","title":"Firebase Authentication æ•™å­¸ï¼šè®“ä½¿ç”¨è€…ç™»å…¥è®Šå¾—è¼•è€Œæ˜“èˆ‰ ğŸ”","type":"posts"},{"content":" å‰è¨€ ğŸ¤ # åœ¨åšæˆ‘çš„ç¬¬ä¸€å€‹å°ˆæ¡ˆæ™‚ï¼Œæˆ‘å€‘æœ€åˆç”¨ Notion ç•¶ API æ–‡ä»¶ï¼Œå‰›é–‹å§‹å¯« API æ™‚é‚„æœƒä¹–ä¹–æ›´æ–°æ–‡æª”ğŸ“„ï¼Œä½†éš¨è‘— API è¶Šå¯«è¶Šå¤šï¼Œæ›´æ–°æ–‡æª”çš„äº‹æƒ…å°±é€æ¼¸è¢«æ‹‹è«¸è…¦å¾ŒğŸ˜…ã€‚\nè€Œä¸”åœ¨å‰å¾Œç«¯åˆ†é›¢çš„æƒ…æ³ä¸‹ï¼Œè² è²¬å‰ç«¯çš„çµ„å“¡å¸¸å¸¸å°æ¸¬è©¦ API ä¸€é ­éœ§æ°´ğŸ¤”ã€‚é€™æ™‚ï¼Œæˆ‘éˆå…‰ä¸€é–ƒï¼Œæƒ³èµ·è€å¸«èª²å ‚ä¸Šæåˆ°çš„è¶…å¥½ç”¨åœ–å½¢åŒ–å·¥å…·âœ¨â€”â€”Swaggerï¼æ–¼æ˜¯ï¼Œæˆ‘é–‹å§‹é‘½ç ”å¦‚ä½•æŠŠ Swagger å¼•å…¥å°ˆæ¡ˆï¼Œè®“ API æ–‡ä»¶å’Œæ¸¬è©¦ä¸€èˆ‰æå®šğŸ¯ï¼\nå‰ç½®ä½œæ¥­ ğŸ“Œ # éœ€è¦ç”¨åˆ°å…©å€‹å¥—ä»¶ swagger-ui-express \u0026amp; swagger-autogen\n1. swagger-ui-express # å‚³é€é–€ ğŸŒ€ swagger-ui-express\nä»€éº¼æ˜¯ swagger-ui-expressï¼ŸğŸ–¥ï¸\nswagger-ui-express æ˜¯ä¸€å€‹æ–¹ä¾¿æ˜“ç”¨çš„ Express ä¸­ä»‹è»Ÿé«”ï¼Œè®“ä½ è¼•é¬†æ•´åˆ Swagger UI åˆ°ä½ çš„ Express æ‡‰ç”¨ç¨‹å¼ä¸­ï¼âœ¨ å®ƒå¯ä»¥å°‡ä½ çš„ Swagger æ–‡ä»¶ä»¥ä¸€å€‹äº’å‹•å¼çš„åœ–å½¢ä»‹é¢å±•ç¤ºå‡ºä¾†ï¼Œä¾›é–‹ç™¼è€…é€²è¡ŒæŸ¥é–±å’Œæ¸¬è©¦ï¼Œå¾¹åº•è§£æ±º API æ–‡ä»¶é›£ç®¡ç†ã€é›£æ¸¬è©¦çš„ç—›é»ğŸ’¡ã€‚\nç‚ºä»€éº¼é¸å®ƒï¼Ÿ\nå¿«é€Ÿæ•´åˆï¼šå¹¾è¡Œç¨‹å¼ç¢¼å°±èƒ½æŠŠ Swagger UI åŠ å…¥å°ˆæ¡ˆğŸ”§ã€‚ äº’å‹•å¼æ¸¬è©¦ï¼šæ”¯æ´ç›´æ¥å¾ç€è¦½å™¨ç™¼é€è«‹æ±‚æ¸¬è©¦ API åŠŸèƒ½ğŸš€ã€‚ é–‹ç™¼è€…å‹å¥½ï¼šè®“åœ˜éšŠä¸­çš„æ¯å€‹äººï¼ˆä¸åªå¾Œç«¯é–‹ç™¼è€…ï¼ï¼‰éƒ½èƒ½æ–¹ä¾¿ç†è§£å’Œä½¿ç”¨ APIğŸ“–ã€‚ 2. swagger-autogen # å‚³é€é–€ ğŸŒ€ swagger-autogen å®˜æ–¹æ–‡æª” ğŸ“„ Quick Start\nä»€éº¼æ˜¯ swagger-autogenï¼Ÿâœ¨\nswagger-autogen æ˜¯ä¸€å€‹å°ˆç‚ºé–‹ç™¼è€…è¨­è¨ˆçš„å·¥å…·åŒ…ï¼Œå¯ä»¥è‡ªå‹•ç”Ÿæˆç¬¦åˆ Swagger è¦ç¯„çš„ API æ–‡ä»¶ğŸ“„ï¼åªéœ€æ’°å¯«ç°¡å–®çš„è¨»è§£ï¼Œå®ƒå°±èƒ½å¿«é€Ÿæƒæä½ çš„ç¨‹å¼ç¢¼ï¼Œå¹«åŠ©ä½ ç”Ÿæˆå®Œæ•´çš„ Swagger æ–‡ä»¶ï¼Œé‚„èƒ½ç›´æ¥èˆ‡ Swagger UI æ•´åˆï¼Œè®“ API æ–‡ä»¶ä¸åƒ…å³æ™‚æ›´æ–°ï¼Œé‚„å¯ä»¥ç”¨æ–¼äº’å‹•å¼æ¸¬è©¦ğŸš€ã€‚\nç‚ºä»€éº¼é¸æ“‡å®ƒï¼Ÿ\nçœæ™‚çœåŠ›ï¼šå…æ‰‹å‹•æ’°å¯« JSON æ ¼å¼çš„ API æ–‡ä»¶ã€‚ é«˜åº¦è‡ªå‹•åŒ–ï¼šå¾ç¨‹å¼ç¢¼è¨»è§£ä¸­è‡ªå‹•æå–è·¯ç”±è³‡è¨ŠğŸ“Œã€‚ å³æ™‚æ¸¬è©¦ï¼šçµåˆ Swagger UIï¼Œè®“ API æ¸¬è©¦è®Šå¾—è¶…æ–¹ä¾¿ğŸ”§ã€‚ å¯¦éš›æ“ä½œ ğŸ–¥ï¸ # 1. å®‰è£å¥—ä»¶è‡³ä½ çš„ express å°ˆæ¡ˆ # npm install swagger-ui-express npm install swagger-autogen 2. è¨­å®š Swagger è‡ªå‹•ç”Ÿæˆæª”æ¡ˆ # åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸­ï¼Œå»ºç«‹ä¸€å€‹ swagger.js æª”æ¡ˆï¼Œè¨­å®š swagger-autogen ä¾†ç”Ÿæˆ Swagger æ–‡ä»¶ã€‚\nimport swaggerAutogen from \u0026#34;swagger-autogen\u0026#34;; const doc = { info: { title: \u0026#34;æˆ‘çš„ API å¯¶åº«\u0026#34;, description: \u0026#34;æˆ‘æŠŠæ‰€æœ‰çš„ API éƒ½æ”¾åœ¨ localhost:3030 äº†ï¼Œå»å°‹æ‰¾å§ï¼\u0026#34;, }, host: \u0026#34;localhost:3030\u0026#34;, }; const outputFile = \u0026#34;./swagger-output.json\u0026#34;; const routes = [\u0026#34;./app.js\u0026#34;]; swaggerAutogen()(outputFile, routes, doc); require çš„å¯«æ³•åªè¦æŠŠ import æ›æ‰å°±å¥½ï¼Œå‰©ä¸‹ç›¸åŒ\nconst swaggerAutogen = require(\u0026#39;swagger-autogen\u0026#39;)(); åŸ·è¡Œå®ƒï¼Œä¸€éµç”Ÿæˆ swagger-output.jsonï¼âœ¨\nnode swagger.js 3. æ•´åˆ Swagger UI åˆ° Express å°ˆæ¡ˆ # åœ¨ app.js ä¸­åŠ å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š\nimport express from \u0026#34;express\u0026#34;; const app = express(); // swagger import swaggerUi from \u0026#34;swagger-ui-express\u0026#34;; import fs from \u0026#34;fs\u0026#34;; const swaggerDocument = JSON.parse( fs.readFileSync(new URL(\u0026#34;./swagger-output.json\u0026#34;, import.meta.url), \u0026#34;utf-8\u0026#34;) ); app.use(\u0026#34;/api-docs\u0026#34;, swaggerUi.serve, swaggerUi.setup(swaggerDocument)); å¦‚æœä¸æ˜¯ä½¿ç”¨ ES6 å‰‡æ˜¯åŠ å…¥ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express(); // swagger const swaggerUi = require(\u0026#39;swagger-ui-express\u0026#39;); const swaggerFile = require(\u0026#39;./swagger-output.json\u0026#39;); // å¼•å…¥å‰›ç”Ÿæˆçš„ JSON æ–‡ä»¶ app.use(\u0026#39;/api-docs\u0026#39;, swaggerUi.serve, swaggerUi.setup(swaggerFile)); // è·¯å¾‘å¯è‡ªè¨‚ï¼Œä¾‹å¦‚ /docs ä¼ºæœå™¨å•Ÿå‹•å¾Œï¼Œæ‰“é–‹ç€è¦½å™¨ï¼Œè¼¸å…¥ http://localhost:3000/api-docs ä½ çš„äº’å‹•å¼ API æ–‡ä»¶å°±æ­¤èª•ç”Ÿå•¦ï¼ğŸ‰\n4. åœ¨è·¯ç”±ä¸­åŠ å…¥è¨»è§£ ğŸ“œ # ç‚ºäº†è®“ swagger-autogen èƒ½æ­£ç¢ºæå– API è³‡è¨Šï¼Œæœƒéœ€è¦åœ¨è·¯ç”±æª”æ¡ˆä¸­æ’°å¯«è¨»è§£ï¼Œä¾‹å¦‚ï¼š\nGET router.get( \u0026#34;/:userId\u0026#34;, /* #swagger.tags = [\u0026#39;Cart\u0026#39;] */ /* #swagger.description = \u0026#34;å–å¾—è³¼ç‰©è»Šæ‰€æœ‰å•†å“è³‡æ–™\u0026#34; */ /* #swagger.responses[200] = { schema: { \u0026#34;status\u0026#34;: 200, \u0026#34;message\u0026#34;: \u0026#34;è³¼ç‰©è»ŠæˆåŠŸå–å¾—è³‡æ–™\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;cartItems\u0026#34;: [ { \u0026#34;id\u0026#34;: 115, \u0026#34;cart_id\u0026#34;: 5, \u0026#34;created_at\u0026#34;: \u0026#34;2025-01-01T04:57:32.661Z\u0026#34;, \u0026#34;is_selected\u0026#34;: false, }, description: \u0026#34;æˆåŠŸå–å¾—è³‡æ–™\u0026#34; } */ CartController.fetchCartByUserId ); POST router.post( \u0026#34;/:userId\u0026#34;, /* #swagger.tags = [\u0026#39;Cart\u0026#39;] */ /* #swagger.description = \u0026#34;æ–°å¢å•†å“è‡³è³¼ç‰©è»Š\u0026#34; */ /*\t#swagger.parameters[\u0026#39;obj\u0026#39;] = { in: \u0026#39;body\u0026#39;, description: \u0026#39;æ–°å¢å•†å“\u0026#39;, required: true, schema: { \u0026#34;activityId\u0026#34;: 34 } } */ /* #swagger.responses[201] = { schema: { \u0026#34;status\u0026#34;: 201, \u0026#34;message\u0026#34;: \u0026#34;æˆåŠŸæ–°å¢è‡³è³¼ç‰©è»Š\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: 115, \u0026#34;cart_id\u0026#34;: 5, \u0026#34;activity_id\u0026#34;: 34, \u0026#34;created_at\u0026#34;: \u0026#34;2025-01-01T04:57:32.661Z\u0026#34;, \u0026#34;is_selected\u0026#34;: false } }, description: \u0026#34;æˆåŠŸæ–°å¢è‡³è³¼ç‰©è»Š\u0026#34; } */ CartController.addActivityToCart ); è¨»é‡‹è¦ç¯„èˆ‡æ ¼å¼å¯ä»¥å‰å¾€ä½œè€…çš„ GitHub ä¸Šåƒé–±ç¯„ä¾‹\nç¯„ä¾‹ ğŸ“š Advanced Example\n5. æ›´æ–°æ–‡ä»¶ä¸¦æ¸¬è©¦ ğŸ”„ # æ¯æ¬¡æ›´æ–° API æˆ–æ–°å¢è·¯ç”±æ™‚ï¼Œåªéœ€é‡æ–°åŸ·è¡Œ node swagger.jsï¼Œå°±èƒ½ç”Ÿæˆæœ€æ–°çš„ Swagger æ–‡ä»¶ï¼æ¥è‘—åœ¨ /api-docs è·¯å¾‘ä¸­é€²è¡Œäº’å‹•å¼æ¸¬è©¦ï¼Œå¿«é€Ÿé©—è­‰ API åŠŸèƒ½æ˜¯å¦æ­£å¸¸é‹ä½œğŸš€ã€‚\n","date":"5 January 2025","externalUrl":null,"permalink":"/posts/set_swagger/","section":"","summary":"","title":"ç‚º Express å°ˆæ¡ˆæ‰“é€ äº’å‹•å¼ Swagger API æ–‡æª” ğŸŒ","type":"posts"},{"content":"é€™è£¡ä½¿ç”¨çš„æ˜¯ https://blowfish.page/zh-cn/ ğŸ¡\nä¹Ÿå¯ä»¥å‰å¾€ https://themes.gohugo.io/ å°‹æ‰¾æ›´å¤šä¸»é¡Œ âœ¨\nä½¿ç”¨ git ä¾†å®‰è£ # å¦‚ä½•æ­å»º Hugo ç¶²ç«™\néœ€å…ˆå°‡å‰›å‰›å»ºç«‹çš„ Hugo å°ˆæ¡ˆæ¨é€è‡³ git repo\né€²å…¥å‰›æ‰å‰µå»ºçš„ç¶²ç«™ç›®éŒ„ mywebsite ï¼Œå°‡ Blowfish æ–°å¢ç‚ºå­æ¨¡çµ„\ncd mywebsite git submodule add -b main https://github.com/nunocoracao/blowfish.git themes/blowfish å°‡æ ¹ç›®éŒ„è£¡å­˜åœ¨çš„ hugo.toml æª”æ¡ˆåˆªé™¤\nå› ç‚ºä¹‹å¾Œéƒ½æœƒç”¨åˆ°é€™å€‹ä¸»é¡Œçš„ .toml æª”æ¡ˆä¾†è·‘ï¼Œå¦‚æœä¸åˆªæ‰é è¨­çš„æª”æ¡ˆçš„è©±æœ¬åœ°ä¼ºæœå™¨æœƒç„¡æ³• run èµ·ä¾† è¼¸å…¥ä¸‹é¢æŒ‡ä»¤åœ¨æœ¬åœ°ä¼ºæœå™¨æ¸¬è©¦æ˜¯å¦æœ‰å•é¡Œ\nhugo server -t blowfish //é€™è£¡æ˜¯ä¸»é¡Œåç¨±å¯æ›¿æ› æ›´æ–°ä¸»é¡Œ # å¯ä»¥ä½¿ç”¨ git æŒ‡ä»¤æ›´æ–°ï¼Œåªè¦åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œæœ€æ–°ç‰ˆçš„ä¸»é¡Œå°‡æœƒä¸‹è¼‰åˆ°æœ¬åœ°å€‰åº«\ngit submodule update --remote --merge ","date":"3 January 2025","externalUrl":null,"permalink":"/posts/set_theme/","section":"","summary":"","title":"ä½¿ç”¨ Git å®‰è£ä¸¦è¨­ç½® Hugo ä¸»é¡Œ ğŸ› ï¸","type":"posts"},{"content":"","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":"","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"}]